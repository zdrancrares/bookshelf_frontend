{"version":3,"file":"index.mjs","sources":["../../src/scrolltop/BaseScrollTop.vue","../../src/scrolltop/ScrollTop.vue","../../src/scrolltop/ScrollTop.vue?vue&type=template&id=13ee561a&lang.js"],"sourcesContent":["<script>\nimport BaseComponent from '@primevue/core/basecomponent';\nimport ScrollTopStyle from 'primevue/scrolltop/style';\n\nexport default {\n    name: 'BaseScrollTop',\n    extends: BaseComponent,\n    props: {\n        target: {\n            type: String,\n            default: 'window'\n        },\n        threshold: {\n            type: Number,\n            default: 400\n        },\n        icon: {\n            type: String,\n            default: undefined\n        },\n        behavior: {\n            type: String,\n            default: 'smooth'\n        },\n        buttonProps: {\n            type: Object,\n            default: () => {\n                return { rounded: true };\n            }\n        }\n    },\n    style: ScrollTopStyle,\n    provide() {\n        return {\n            $pcScrollTop: this,\n            $parentInstance: this\n        };\n    }\n};\n</script>\n","<template>\n    <transition name=\"p-scrolltop\" appear @enter=\"onEnter\" @after-leave=\"onAfterLeave\" v-bind=\"ptm('transition')\">\n        <Button v-if=\"visible\" :ref=\"containerRef\" :class=\"cx('root')\" @click=\"onClick\" :aria-label=\"scrollTopAriaLabel\" :unstyled=\"unstyled\" v-bind=\"buttonProps\" :pt=\"ptm('root')\">\n            <template #icon=\"slotProps\">\n                <slot name=\"icon\" :class=\"cx('icon')\">\n                    <component :is=\"icon ? 'span' : 'ChevronUpIcon'\" :class=\"[cx('icon'), icon, slotProps.class]\" v-bind=\"ptm('root')['icon']\" data-pc-section=\"icon\" />\n                </slot>\n            </template>\n        </Button>\n    </transition>\n</template>\n\n<script>\nimport { getWindowScrollTop } from '@primeuix/utils/dom';\nimport { ZIndex } from '@primeuix/utils/zindex';\nimport ChevronUpIcon from '@primevue/icons/chevronup';\nimport Button from 'primevue/button';\nimport BaseScrollTop from './BaseScrollTop.vue';\n\nexport default {\n    name: 'ScrollTop',\n    extends: BaseScrollTop,\n    inheritAttrs: false,\n    scrollListener: null,\n    container: null,\n    data() {\n        return {\n            visible: false\n        };\n    },\n    mounted() {\n        if (this.target === 'window') this.bindDocumentScrollListener();\n        else if (this.target === 'parent') this.bindParentScrollListener();\n    },\n    beforeUnmount() {\n        if (this.target === 'window') this.unbindDocumentScrollListener();\n        else if (this.target === 'parent') this.unbindParentScrollListener();\n\n        if (this.container) {\n            ZIndex.clear(this.container);\n            this.overlay = null;\n        }\n    },\n    methods: {\n        onClick() {\n            let scrollElement = this.target === 'window' ? window : this.$el.parentElement;\n\n            scrollElement.scroll({\n                top: 0,\n                behavior: this.behavior\n            });\n        },\n        checkVisibility(scrollY) {\n            if (scrollY > this.threshold) this.visible = true;\n            else this.visible = false;\n        },\n        bindParentScrollListener() {\n            this.scrollListener = () => {\n                this.checkVisibility(this.$el.parentElement.scrollTop);\n            };\n\n            this.$el.parentElement.addEventListener('scroll', this.scrollListener);\n        },\n        bindDocumentScrollListener() {\n            this.scrollListener = () => {\n                this.checkVisibility(getWindowScrollTop());\n            };\n\n            window.addEventListener('scroll', this.scrollListener);\n        },\n        unbindParentScrollListener() {\n            if (this.scrollListener) {\n                this.$el.parentElement.removeEventListener('scroll', this.scrollListener);\n                this.scrollListener = null;\n            }\n        },\n        unbindDocumentScrollListener() {\n            if (this.scrollListener) {\n                window.removeEventListener('scroll', this.scrollListener);\n                this.scrollListener = null;\n            }\n        },\n        onEnter(el) {\n            ZIndex.set('overlay', el, this.$primevue.config.zIndex.overlay);\n        },\n        onAfterLeave(el) {\n            ZIndex.clear(el);\n        },\n        containerRef(el) {\n            this.container = el ? el.$el : undefined;\n        }\n    },\n    computed: {\n        scrollTopAriaLabel() {\n            return this.$primevue.config.locale.aria ? this.$primevue.config.locale.aria.scrollTop : undefined;\n        }\n    },\n    components: {\n        ChevronUpIcon,\n        Button\n    }\n};\n</script>\n","<template>\n    <transition name=\"p-scrolltop\" appear @enter=\"onEnter\" @after-leave=\"onAfterLeave\" v-bind=\"ptm('transition')\">\n        <Button v-if=\"visible\" :ref=\"containerRef\" :class=\"cx('root')\" @click=\"onClick\" :aria-label=\"scrollTopAriaLabel\" :unstyled=\"unstyled\" v-bind=\"buttonProps\" :pt=\"ptm('root')\">\n            <template #icon=\"slotProps\">\n                <slot name=\"icon\" :class=\"cx('icon')\">\n                    <component :is=\"icon ? 'span' : 'ChevronUpIcon'\" :class=\"[cx('icon'), icon, slotProps.class]\" v-bind=\"ptm('root')['icon']\" data-pc-section=\"icon\" />\n                </slot>\n            </template>\n        </Button>\n    </transition>\n</template>\n\n<script>\nimport { getWindowScrollTop } from '@primeuix/utils/dom';\nimport { ZIndex } from '@primeuix/utils/zindex';\nimport ChevronUpIcon from '@primevue/icons/chevronup';\nimport Button from 'primevue/button';\nimport BaseScrollTop from './BaseScrollTop.vue';\n\nexport default {\n    name: 'ScrollTop',\n    extends: BaseScrollTop,\n    inheritAttrs: false,\n    scrollListener: null,\n    container: null,\n    data() {\n        return {\n            visible: false\n        };\n    },\n    mounted() {\n        if (this.target === 'window') this.bindDocumentScrollListener();\n        else if (this.target === 'parent') this.bindParentScrollListener();\n    },\n    beforeUnmount() {\n        if (this.target === 'window') this.unbindDocumentScrollListener();\n        else if (this.target === 'parent') this.unbindParentScrollListener();\n\n        if (this.container) {\n            ZIndex.clear(this.container);\n            this.overlay = null;\n        }\n    },\n    methods: {\n        onClick() {\n            let scrollElement = this.target === 'window' ? window : this.$el.parentElement;\n\n            scrollElement.scroll({\n                top: 0,\n                behavior: this.behavior\n            });\n        },\n        checkVisibility(scrollY) {\n            if (scrollY > this.threshold) this.visible = true;\n            else this.visible = false;\n        },\n        bindParentScrollListener() {\n            this.scrollListener = () => {\n                this.checkVisibility(this.$el.parentElement.scrollTop);\n            };\n\n            this.$el.parentElement.addEventListener('scroll', this.scrollListener);\n        },\n        bindDocumentScrollListener() {\n            this.scrollListener = () => {\n                this.checkVisibility(getWindowScrollTop());\n            };\n\n            window.addEventListener('scroll', this.scrollListener);\n        },\n        unbindParentScrollListener() {\n            if (this.scrollListener) {\n                this.$el.parentElement.removeEventListener('scroll', this.scrollListener);\n                this.scrollListener = null;\n            }\n        },\n        unbindDocumentScrollListener() {\n            if (this.scrollListener) {\n                window.removeEventListener('scroll', this.scrollListener);\n                this.scrollListener = null;\n            }\n        },\n        onEnter(el) {\n            ZIndex.set('overlay', el, this.$primevue.config.zIndex.overlay);\n        },\n        onAfterLeave(el) {\n            ZIndex.clear(el);\n        },\n        containerRef(el) {\n            this.container = el ? el.$el : undefined;\n        }\n    },\n    computed: {\n        scrollTopAriaLabel() {\n            return this.$primevue.config.locale.aria ? this.$primevue.config.locale.aria.scrollTop : undefined;\n        }\n    },\n    components: {\n        ChevronUpIcon,\n        Button\n    }\n};\n</script>\n"],"names":["name","BaseComponent","props","target","type","String","threshold","Number","icon","undefined","behavior","buttonProps","Object","default","rounded","style","ScrollTopStyle","provide","$pcScrollTop","$parentInstance","BaseScrollTop","inheritAttrs","scrollListener","container","data","visible","mounted","bindDocumentScrollListener","bindParentScrollListener","beforeUnmount","unbindDocumentScrollListener","unbindParentScrollListener","ZIndex","clear","overlay","methods","onClick","scrollElement","window","$el","parentElement","scroll","top","checkVisibility","scrollY","_this","scrollTop","addEventListener","_this2","getWindowScrollTop","removeEventListener","onEnter","el","set","$primevue","config","zIndex","onAfterLeave","containerRef","computed","scrollTopAriaLabel","locale","aria","components","ChevronUpIcon","Button","_openBlock","_createBlock","_Transition","_mergeProps","appear","$options","_ctx","ptm","$data","_component_Button","ref","cx","unstyled","pt","_withCtx","slotProps","_renderSlot","$slots","_resolveDynamicComponent"],"mappings":";;;;;;;;AAIA,eAAe;AACXA,EAAAA,IAAI,EAAE,eAAe;AACrB,EAAA,SAAA,EAASC,aAAa;AACtBC,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAE;AACJC,MAAAA,IAAI,EAAEC,MAAM;MACZ,SAAA,EAAS;KACZ;AACDC,IAAAA,SAAS,EAAE;AACPF,MAAAA,IAAI,EAAEG,MAAM;MACZ,SAAA,EAAS;KACZ;AACDC,IAAAA,IAAI,EAAE;AACFJ,MAAAA,IAAI,EAAEC,MAAM;MACZ,SAAA,EAASI;KACZ;AACDC,IAAAA,QAAQ,EAAE;AACNN,MAAAA,IAAI,EAAEC,MAAM;MACZ,SAAA,EAAS;KACZ;AACDM,IAAAA,WAAW,EAAE;AACTP,MAAAA,IAAI,EAAEQ,MAAM;MACZ,SAAA,EAAS,SAATC,QAAOA,GAAQ;QACX,OAAO;AAAEC,UAAAA,OAAO,EAAE;SAAM;AAC5B,MAAA;AACJ;GACH;AACDC,EAAAA,KAAK,EAAEC,cAAc;EACrBC,OAAO,EAAA,SAAPA,OAAOA,GAAG;IACN,OAAO;AACHC,MAAAA,YAAY,EAAE,IAAI;AAClBC,MAAAA,eAAe,EAAE;KACpB;AACL,EAAA;AACJ,CAAC;;ACnBD,aAAe;AACXnB,EAAAA,IAAI,EAAE,WAAW;AACjB,EAAA,SAAA,EAASoB,QAAa;AACtBC,EAAAA,YAAY,EAAE,KAAK;AACnBC,EAAAA,cAAc,EAAE,IAAI;AACpBC,EAAAA,SAAS,EAAE,IAAI;EACfC,IAAI,EAAA,SAAJA,IAAIA,GAAG;IACH,OAAO;AACHC,MAAAA,OAAO,EAAE;KACZ;EACL,CAAC;EACDC,OAAO,EAAA,SAAPA,OAAOA,GAAG;IACN,IAAI,IAAI,CAACvB,MAAK,KAAM,QAAQ,EAAE,IAAI,CAACwB,0BAA0B,EAAE,CAAA,KAC1D,IAAI,IAAI,CAACxB,MAAK,KAAM,QAAQ,EAAE,IAAI,CAACyB,wBAAwB,EAAE;EACtE,CAAC;EACDC,aAAa,EAAA,SAAbA,aAAaA,GAAG;IACZ,IAAI,IAAI,CAAC1B,MAAK,KAAM,QAAQ,EAAE,IAAI,CAAC2B,4BAA4B,EAAE,CAAA,KAC5D,IAAI,IAAI,CAAC3B,MAAK,KAAM,QAAQ,EAAE,IAAI,CAAC4B,0BAA0B,EAAE;IAEpE,IAAI,IAAI,CAACR,SAAS,EAAE;AAChBS,MAAAA,MAAM,CAACC,KAAK,CAAC,IAAI,CAACV,SAAS,CAAC;MAC5B,IAAI,CAACW,OAAM,GAAI,IAAI;AACvB,IAAA;EACJ,CAAC;AACDC,EAAAA,OAAO,EAAE;IACLC,OAAO,EAAA,SAAPA,OAAOA,GAAG;AACN,MAAA,IAAIC,aAAY,GAAI,IAAI,CAAClC,MAAK,KAAM,QAAO,GAAImC,MAAK,GAAI,IAAI,CAACC,GAAG,CAACC,aAAa;MAE9EH,aAAa,CAACI,MAAM,CAAC;AACjBC,QAAAA,GAAG,EAAE,CAAC;QACNhC,QAAQ,EAAE,IAAI,CAACA;AACnB,OAAC,CAAC;IACN,CAAC;AACDiC,IAAAA,eAAe,EAAA,SAAfA,eAAeA,CAACC,OAAO,EAAE;AACrB,MAAA,IAAIA,OAAM,GAAI,IAAI,CAACtC,SAAS,EAAE,IAAI,CAACmB,OAAM,GAAI,IAAI,CAAA,KAC5C,IAAI,CAACA,OAAM,GAAI,KAAK;IAC7B,CAAC;IACDG,wBAAwB,EAAA,SAAxBA,wBAAwBA,GAAG;AAAA,MAAA,IAAAiB,KAAA,GAAA,IAAA;MACvB,IAAI,CAACvB,iBAAiB,YAAM;QACxBuB,KAAI,CAACF,eAAe,CAACE,KAAI,CAACN,GAAG,CAACC,aAAa,CAACM,SAAS,CAAC;MAC1D,CAAC;AAED,MAAA,IAAI,CAACP,GAAG,CAACC,aAAa,CAACO,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACzB,cAAc,CAAC;IAC1E,CAAC;IACDK,0BAA0B,EAAA,SAA1BA,0BAA0BA,GAAG;AAAA,MAAA,IAAAqB,MAAA,GAAA,IAAA;MACzB,IAAI,CAAC1B,iBAAiB,YAAM;AACxB0B,QAAAA,MAAI,CAACL,eAAe,CAACM,kBAAkB,EAAE,CAAC;MAC9C,CAAC;MAEDX,MAAM,CAACS,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACzB,cAAc,CAAC;IAC1D,CAAC;IACDS,0BAA0B,EAAA,SAA1BA,0BAA0BA,GAAG;MACzB,IAAI,IAAI,CAACT,cAAc,EAAE;AACrB,QAAA,IAAI,CAACiB,GAAG,CAACC,aAAa,CAACU,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC5B,cAAc,CAAC;QACzE,IAAI,CAACA,iBAAiB,IAAI;AAC9B,MAAA;IACJ,CAAC;IACDQ,4BAA4B,EAAA,SAA5BA,4BAA4BA,GAAG;MAC3B,IAAI,IAAI,CAACR,cAAc,EAAE;QACrBgB,MAAM,CAACY,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC5B,cAAc,CAAC;QACzD,IAAI,CAACA,iBAAiB,IAAI;AAC9B,MAAA;IACJ,CAAC;AACD6B,IAAAA,OAAO,EAAA,SAAPA,OAAOA,CAACC,EAAE,EAAE;AACRpB,MAAAA,MAAM,CAACqB,GAAG,CAAC,SAAS,EAAED,EAAE,EAAE,IAAI,CAACE,SAAS,CAACC,MAAM,CAACC,MAAM,CAACtB,OAAO,CAAC;IACnE,CAAC;AACDuB,IAAAA,YAAY,EAAA,SAAZA,YAAYA,CAACL,EAAE,EAAE;AACbpB,MAAAA,MAAM,CAACC,KAAK,CAACmB,EAAE,CAAC;IACpB,CAAC;AACDM,IAAAA,YAAY,EAAA,SAAZA,YAAYA,CAACN,EAAE,EAAE;MACb,IAAI,CAAC7B,SAAQ,GAAI6B,EAAC,GAAIA,EAAE,CAACb,MAAM9B,SAAS;AAC5C,IAAA;GACH;AACDkD,EAAAA,QAAQ,EAAE;IACNC,kBAAkB,EAAA,SAAlBA,kBAAkBA,GAAG;MACjB,OAAO,IAAI,CAACN,SAAS,CAACC,MAAM,CAACM,MAAM,CAACC,IAAG,GAAI,IAAI,CAACR,SAAS,CAACC,MAAM,CAACM,MAAM,CAACC,IAAI,CAAChB,YAAYrC,SAAS;AACtG,IAAA;GACH;AACDsD,EAAAA,UAAU,EAAE;AACRC,IAAAA,aAAa,EAAbA,aAAa;AACbC,IAAAA,MAAK,EAALA;AACJ;AACJ,CAAC;;;;ECpGG,OAAAC,SAAA,EAAA,EAAAC,WAAA,CAQYC,YARZC,UAAA,CAQY;AARArE,IAAAA,IAAI,EAAC;AAAcsE,IAAAA,MAAK,EAAL,EAAK;IAAGnB,OAAK,EAAEoB,QAAA,CAAApB,OAAO;IAAGM,YAAW,EAAEc,QAAA,CAAAd;KAAsBe,IAAA,CAAAC,GAAG,CAAA,YAAA,CAAA,CAAA,EAAA;uBAC1F,YAAA;AAAA,MAAA,OAMQ,CANMC,KAAA,CAAAjD,OAAO,IAArByC,SAAA,EAAA,EAAAC,WAAA,CAMQQ,mBANRN,UAAA,CAMQ;;QANgBO,GAAG,EAAEL,QAAA,CAAAb,YAAY;AAAG,QAAA,OAAA,EAAOc,IAAA,CAAAK,EAAE,CAAA,MAAA,CAAA;QAAWzC,OAAK,EAAEmC,QAAA,CAAAnC,OAAO;QAAG,YAAU,EAAEmC,QAAA,CAAAX,kBAAkB;QAAGkB,QAAQ,EAAEN,IAAA,CAAAM;SAAkBN,IAAA,CAAA7D,WAAW,EAAA;AAAGoE,QAAAA,EAAE,EAAEP,IAAA,CAAAC,GAAG,CAAA,MAAA;;AACpJjE,QAAAA,IAAI,EAAAwE,OAAA,CACX,UAEMC,SAHgB,EAAA;UAAA,OAAA,CACtBC,UAAA,CAEMV,IAAA,CAAAW,MAAA,EAAA,MAAA,EAAA;AAFa,YAAA,OAAA,iBAAOX,IAAA,CAAAK,EAAE,CAAA,MAAA,CAAA;aAA5B,YAAA;AAAA,YAAA,OAEM,eADFV,WAAA,CAAmJiB,uBAAA,CAAnIZ,IAAA,CAAAhE,IAAG,GAAA,MAAA,GAAA,eAAA,CAAA,EAAnB6D,UAAA,CAAmJ;AAAjG,cAAA,OAAA,GAAQG,IAAA,CAAAK,EAAE,CAAA,MAAA,CAAA,EAAUL,SAAI,EAAES,SAAS,CAAA,OAAA,CAAM;eAAWT,IAAA,CAAAC,GAAG,CAAA,MAAA,CAAA,CAAA,MAAA,CAAA,EAAA;AAAkB,cAAA,iBAAe,EAAC;;;;;;;;;;;;;;;"}